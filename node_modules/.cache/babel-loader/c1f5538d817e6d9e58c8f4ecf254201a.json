{"ast":null,"code":"import _classCallCheck from \"/Users/kahingleung/Downloads/cts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kahingleung/Downloads/cts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kahingleung/Downloads/cts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kahingleung/Downloads/cts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kahingleung/Downloads/cts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kahingleung/Downloads/cts/src/Loan.js\";\nimport React from \"react\";\nimport lightBaseTheme from \"material-ui/styles/baseThemes/lightBaseTheme\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport getMuiTheme from \"material-ui/styles/getMuiTheme\";\nimport Paper from \"material-ui/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport Slider from '@material-ui/lab/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport MenuBar from \"./MenuBar\";\nimport axios from \"axios\";\n\nvar Loan =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Loan, _React$Component);\n\n  function Loan(props) {\n    var _this;\n\n    _classCallCheck(this, Loan);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Loan).call(this, props));\n\n    _this.handleChange1 = function (event, value) {\n      _this.setState({\n        borrow: value\n      }); //console.log(\"slide\",value)\n\n    };\n\n    _this.handleChange2 = function (event, value) {\n      _this.setState({\n        duration: value\n      }); //console.log(\"slide\",value)\n\n    };\n\n    _this.componentDidMount = function () {\n      var urlstr = 'https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/unsecured-sme-loans'; //urlstr='https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/personal-current-accounts'\n\n      axios.get(urlstr).then(function (response) {\n        _this.setState({\n          tileData: response.data.data,\n          loading: false\n        });\n\n        console.log(\"data\", response.data);\n      });\n    };\n\n    _this.handleVerify = function () {\n      _this.setState({\n        activeStep: 1\n      });\n    };\n\n    _this.handleKiva = function () {\n      var r = _this.state.tileData[0].Brand[0].SMELoan[0].SMELoanMarketingState[0].LoanInterest.LoanInterestTierBandSet[0].LoanInterestTierBand[0].RepAPR;\n      var p = _this.state.borrow * 1000;\n      var t = Math.ceil(_this.state.duration * 3);\n      var urlstr = 'https://us-central1-ctsopenhack.cloudfunctions.net/calculate/'; //urlstr='https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/personal-current-accounts'\n\n      axios.post(urlstr, {\n        \"amount\": p,\n        \"interest\": r,\n        \"month\": t\n      }).then(function (response) {\n        _this.setState({\n          activeStep: 2,\n          apr: r,\n          monthly: response.payment\n        });\n      });\n    };\n\n    _this.reset = function () {\n      _this.setState({\n        activeStep: 0\n      });\n    };\n\n    _this.state = {\n      expanded: false,\n      tileData: [],\n      auth: true,\n      anchorEl: null,\n      open: false,\n      activeStep: 0,\n      borrow: 5,\n      duration: 10,\n      limit: 25,\n      apr: 7,\n      monthly: 8000\n    };\n    return _this;\n  }\n\n  _createClass(Loan, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"loan\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        muiTheme: getMuiTheme(lightBaseTheme),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(MenuBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        style: {\n          width: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Stepper, {\n        activeStep: this.state.activeStep,\n        orientation: \"vertical\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Step, {\n        key: \"step1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(StepLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Input Loan Details\"), React.createElement(StepContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        id: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Borrow Amount: $\", this.state.borrow * 1000), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(Slider, {\n        style: {\n          width: 250\n        },\n        value: this.state.borrow,\n        \"aria-labelledby\": \"label\",\n        onChange: this.handleChange1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        id: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Repayment months: \", Math.ceil(this.state.duration * 3)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(Slider, {\n        style: {\n          width: 250\n        },\n        value: this.state.duration,\n        \"aria-labelledby\": \"label\",\n        onChange: this.handleChange2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.handleVerify,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(Step, {\n        key: \"step2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(StepLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Prelimiary Loan Suggestion\"), React.createElement(StepContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        id: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Estimated Amount can be borrowed from Bank: $\", this.state.borrow > this.state.limit ? this.state.limit * 1000 : this.state.borrow * 1000), React.createElement(Typography, {\n        id: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Remaining Amount can be borrowed from Kiva: $\", this.state.borrow > this.state.limit ? Math.round(this.state.borrow - this.state.limit) * 1000 : 0), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.handleKiva,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Apply\"))), React.createElement(Step, {\n        key: \"step3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(StepLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Borrow from Kiva\"), React.createElement(StepContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        id: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Annual Interest: \", this.state.apr, \"%\"), React.createElement(Typography, {\n        id: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Monthly Payment: $\", this.state.monthly), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"https://www.business.hsbc.uk/en-gb/finance-and-borrowing/credit-and-lending/small-business-loan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Apply HSBC loan\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"https://pages.kiva.org/borrow/start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Apply Kiva loan\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.reset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Start Over\"))))))));\n    }\n  }]);\n\n  return Loan;\n}(React.Component);\n\nvar LoanWithRouter = withRouter(Loan);\nexport default LoanWithRouter;","map":{"version":3,"sources":["/Users/kahingleung/Downloads/cts/src/Loan.js"],"names":["React","lightBaseTheme","MuiThemeProvider","getMuiTheme","Paper","withRouter","List","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","ListSubheader","Button","Avatar","Stepper","Step","StepLabel","StepContent","Slider","Typography","MenuBar","axios","Loan","props","handleChange1","event","value","setState","borrow","handleChange2","duration","componentDidMount","urlstr","get","then","response","tileData","data","loading","console","log","handleVerify","activeStep","handleKiva","r","state","Brand","SMELoan","SMELoanMarketingState","LoanInterest","LoanInterestTierBandSet","LoanInterestTierBand","RepAPR","p","t","Math","ceil","post","apr","monthly","payment","reset","expanded","auth","anchorEl","open","limit","width","round","Component","LoanWithRouter"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,OAAOC,gBAAP,MAA6B,qCAA7B;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,uBAAP,MAAoC,2CAApC;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;;AADiB,UAgBnBC,aAhBmB,GAgBH,UAACC,KAAD,EAAOC,KAAP,EAAiB;AAC/B,YAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAEF;AAAV,OAAd,EAD+B,CAE/B;;AACD,KAnBkB;;AAAA,UAoBnBG,aApBmB,GAoBH,UAACJ,KAAD,EAAOC,KAAP,EAAiB;AAC/B,YAAKC,QAAL,CAAc;AAAEG,QAAAA,QAAQ,EAAEJ;AAAZ,OAAd,EAD+B,CAE/B;;AACD,KAvBkB;;AAAA,UAwBnBK,iBAxBmB,GAwBC,YAAM;AACxB,UAAIC,MAAM,GAAC,mFAAX,CADwB,CAExB;;AACAX,MAAAA,KAAK,CAACY,GAAN,CAAUD,MAAV,EACCE,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,cAAKR,QAAL,CAAc;AAACS,UAAAA,QAAQ,EAAED,QAAQ,CAACE,IAAT,CAAcA,IAAzB;AAA+BC,UAAAA,OAAO,EAAE;AAAxC,SAAd;;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBL,QAAQ,CAACE,IAA5B;AACD,OAJD;AAOD,KAlCkB;;AAAA,UAmCnBI,YAnCmB,GAmCJ,YAAM;AACnB,YAAKd,QAAL,CAAc;AAACe,QAAAA,UAAU,EAAE;AAAb,OAAd;AACD,KArCkB;;AAAA,UAsCnBC,UAtCmB,GAsCN,YAAM;AACjB,UAAIC,CAAC,GAAG,MAAKC,KAAL,CAAWT,QAAX,CAAoB,CAApB,EAAuBU,KAAvB,CAA6B,CAA7B,EAAgCC,OAAhC,CAAwC,CAAxC,EAA2CC,qBAA3C,CAAiE,CAAjE,EAAoEC,YAApE,CAAiFC,uBAAjF,CAAyG,CAAzG,EAA4GC,oBAA5G,CAAiI,CAAjI,EAAoIC,MAA5I;AACA,UAAIC,CAAC,GAAG,MAAKR,KAAL,CAAWjB,MAAX,GAAkB,IAA1B;AACA,UAAI0B,CAAC,GAAGC,IAAI,CAACC,IAAL,CAAU,MAAKX,KAAL,CAAWf,QAAX,GAAoB,CAA9B,CAAR;AACA,UAAIE,MAAM,GAAC,+DAAX,CAJiB,CAKjB;;AACAX,MAAAA,KAAK,CAACoC,IAAN,CAAWzB,MAAX,EAAkB;AAAC,kBAAUqB,CAAX;AAAc,oBAAYT,CAA1B;AAA6B,iBAASU;AAAtC,OAAlB,EACCpB,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,cAAKR,QAAL,CAAc;AACZe,UAAAA,UAAU,EAAE,CADA;AAEZgB,UAAAA,GAAG,EAAEd,CAFO;AAGZe,UAAAA,OAAO,EAAExB,QAAQ,CAACyB;AAHN,SAAd;AAMD,OARD;AAWD,KAvDkB;;AAAA,UAwDnBC,KAxDmB,GAwDX,YAAM;AACZ,YAAKlC,QAAL,CAAc;AAACe,QAAAA,UAAU,EAAE;AAAb,OAAd;AACD,KA1DkB;;AAEjB,UAAKG,KAAL,GAAa;AACXiB,MAAAA,QAAQ,EAAE,KADC;AAEX1B,MAAAA,QAAQ,EAAE,EAFC;AAGX2B,MAAAA,IAAI,EAAE,IAHK;AAIXC,MAAAA,QAAQ,EAAE,IAJC;AAKXC,MAAAA,IAAI,EAAE,KALK;AAMXvB,MAAAA,UAAU,EAAE,CAND;AAOXd,MAAAA,MAAM,EAAE,CAPG;AAQXE,MAAAA,QAAQ,EAAE,EARC;AASXoC,MAAAA,KAAK,EAAE,EATI;AAUXR,MAAAA,GAAG,EAAE,CAVM;AAWXC,MAAAA,OAAO,EAAE;AAXE,KAAb;AAFiB;AAelB;;;;6BA6CQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,QAAQ,EAAExD,WAAW,CAACF,cAAD,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAAEkE,UAAAA,KAAK,EAAE;AAAT,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,OAAD;AACE,QAAA,UAAU,EAAE,KAAKtB,KAAL,CAAWH,UADzB;AAEE,QAAA,WAAW,EAAC,UAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAwC,KAAKG,KAAL,CAAWjB,MAAX,GAAkB,IAA1D,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAGA,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE;AAACuC,UAAAA,KAAK,EAAE;AAAR,SADT;AAEE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWjB,MAFpB;AAGE,2BAAgB,OAHlB;AAIE,QAAA,QAAQ,EAAE,KAAKJ,aAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATA,EAUA,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0C+B,IAAI,CAACC,IAAL,CAAU,KAAKX,KAAL,CAAWf,QAAX,GAAoB,CAA9B,CAA1C,CAVA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXA,EAYA,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE;AAACqC,UAAAA,KAAK,EAAE;AAAR,SADT;AAEE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWf,QAFpB;AAGE,2BAAgB,OAHlB;AAIE,QAAA,QAAQ,EAAE,KAAKD,aAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZA,EAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBA,EAmBE,oBAAC,MAAD;AACE,QAAA,OAAO,EAAC,UADV;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,OAAO,EAAE,KAAKY,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnBF,CAFF,CAJF,EAkCE,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,EAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAAqE,KAAKI,KAAL,CAAWjB,MAAX,GAAkB,KAAKiB,KAAL,CAAWqB,KAA7B,GAAqC,KAAKrB,KAAL,CAAWqB,KAAX,GAAiB,IAAtD,GAA2D,KAAKrB,KAAL,CAAWjB,MAAX,GAAkB,IAAlJ,CADA,EAEA,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAAqE,KAAKiB,KAAL,CAAWjB,MAAX,GAAkB,KAAKiB,KAAL,CAAWqB,KAA7B,GAAqCX,IAAI,CAACa,KAAL,CAAW,KAAKvB,KAAL,CAAWjB,MAAX,GAAkB,KAAKiB,KAAL,CAAWqB,KAAxC,IAA+C,IAApF,GAAyF,CAA9J,CAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,EAIE,oBAAC,MAAD;AACE,QAAA,OAAO,EAAC,UADV;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,OAAO,EAAE,KAAKvB,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,CAFF,CAlCF,EAiDE,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAyC,KAAKE,KAAL,CAAWa,GAApD,MADF,EAEE,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0C,KAAKb,KAAL,CAAWc,OAArD,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAGO;AAAG,QAAA,IAAI,EAAC,iGAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHP,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAIO;AAAG,QAAA,IAAI,EAAC,qCAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJP,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAKO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALP,EAME,oBAAC,MAAD;AACE,QAAA,OAAO,EAAC,UADV;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,OAAO,EAAE,KAAKE,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,CAFF,CAjDF,CADA,CAFF,CADF,CADF,CADF;AA8ED;;;;EA5IgB7D,KAAK,CAACqE,S;;AA8IzB,IAAMC,cAAc,GAAGjE,UAAU,CAACiB,IAAD,CAAjC;AACA,eAAegD,cAAf","sourcesContent":["import React from \"react\";\nimport lightBaseTheme from \"material-ui/styles/baseThemes/lightBaseTheme\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport getMuiTheme from \"material-ui/styles/getMuiTheme\";\nimport Paper from \"material-ui/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport Slider from '@material-ui/lab/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport MenuBar from \"./MenuBar\";\nimport axios from \"axios\"\n\nclass Loan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      tileData: [],\n      auth: true,\n      anchorEl: null,\n      open: false,\n      activeStep: 0,\n      borrow: 5,\n      duration: 10,\n      limit: 25,\n      apr: 7,\n      monthly: 8000,\n    };\n  }\n  handleChange1 = (event,value) => {\n    this.setState({ borrow: value });\n    //console.log(\"slide\",value)\n  };\n  handleChange2 = (event,value) => {\n    this.setState({ duration: value });\n    //console.log(\"slide\",value)\n  };\n  componentDidMount = () => {\n    var urlstr='https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/unsecured-sme-loans'\n    //urlstr='https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/personal-current-accounts'\n    axios.get(urlstr)\n    .then(response => {\n      this.setState({tileData: response.data.data, loading: false})\n      console.log(\"data\",response.data)\n    }\n    )\n\n  };\n  handleVerify = () => {\n    this.setState({activeStep: 1})\n  };\n  handleKiva = () => {\n    var r = this.state.tileData[0].Brand[0].SMELoan[0].SMELoanMarketingState[0].LoanInterest.LoanInterestTierBandSet[0].LoanInterestTierBand[0].RepAPR\n    var p = this.state.borrow*1000\n    var t = Math.ceil(this.state.duration*3)\n    var urlstr='https://us-central1-ctsopenhack.cloudfunctions.net/calculate/'\n    //urlstr='https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/personal-current-accounts'\n    axios.post(urlstr,{\"amount\": p, \"interest\": r, \"month\": t})\n    .then(response => {\n      this.setState({\n        activeStep: 2,\n        apr: r,\n        monthly: response.payment\n\n      })\n    }\n    )\n\n  };\n  reset = () => {\n    this.setState({activeStep: 0})\n  };\n\n  render() {\n    return (\n      <loan>\n        <MuiThemeProvider muiTheme={getMuiTheme(lightBaseTheme)}>\n          <div>\n            <MenuBar />\n            <Paper style={{ width: 450 }}>\n            <Stepper\n              activeStep={this.state.activeStep}\n              orientation=\"vertical\"\n            >\n              <Step key=\"step1\">\n                <StepLabel>Input Loan Details</StepLabel>\n                <StepContent>\n                <Typography id=\"label\">Borrow Amount: ${this.state.borrow*1000}</Typography>\n                <br/>\n                <Slider\n                  style={{width: 250}}\n                  value={this.state.borrow}\n                  aria-labelledby=\"label\"\n                  onChange={this.handleChange1}\n                />\n                <br/>\n                <Typography id=\"label\">Repayment months: {Math.ceil(this.state.duration*3)}</Typography>\n                <br/>\n                <Slider\n                  style={{width: 250}}\n                  value={this.state.duration}\n                  aria-labelledby=\"label\"\n                  onChange={this.handleChange2}\n                />\n                <br/>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={this.handleVerify}\n                  >\n                    Submit\n                  </Button>\n                </StepContent>\n              </Step>\n              <Step key=\"step2\">\n                <StepLabel>Prelimiary Loan Suggestion</StepLabel>\n                <StepContent>\n                <Typography id=\"label\">Estimated Amount can be borrowed from Bank: ${this.state.borrow>this.state.limit ? this.state.limit*1000:this.state.borrow*1000}</Typography>\n                <Typography id=\"label\">Remaining Amount can be borrowed from Kiva: ${this.state.borrow>this.state.limit ? Math.round(this.state.borrow-this.state.limit)*1000:0}</Typography>\n                <br/>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={this.handleKiva}\n                  >\n                    Apply\n                  </Button>\n                </StepContent>\n              </Step>\n              <Step key=\"step3\">\n                <StepLabel>Borrow from Kiva</StepLabel>\n                <StepContent>\n                  <Typography id=\"label\">Annual Interest: {this.state.apr}%</Typography>\n                  <Typography id=\"label\">Monthly Payment: ${this.state.monthly}</Typography>\n                  <br/><a href=\"https://www.business.hsbc.uk/en-gb/finance-and-borrowing/credit-and-lending/small-business-loan\">Apply HSBC loan</a>\n                  <br/><a href=\"https://pages.kiva.org/borrow/start\">Apply Kiva loan</a>\n                  <br/><br/>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={this.reset}\n                  >\n                    Start Over\n                  </Button>\n                </StepContent>\n              </Step>\n            </Stepper>\n            </Paper>\n          </div>\n        </MuiThemeProvider>\n      </loan>\n    );\n  }\n}\nconst LoanWithRouter = withRouter(Loan);\nexport default LoanWithRouter;\n"]},"metadata":{},"sourceType":"module"}