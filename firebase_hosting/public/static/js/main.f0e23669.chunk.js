(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,a){e.exports=a(446)},446:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(20),r=a(453),c=a(456),i=a(452),s=a(32),u=a(33),m=a(35),d=a(34),h=a(36),E=a(38),p=a.n(E),b=a(45),g=a.n(b),v=a(39),f=a.n(v),w=a(31),y=a.n(w),k=a(455),S=a(74),L=a.n(S),R=a(64),C=a.n(R),_=a(76),j=a.n(_),O=a(75),M=a.n(O),x=a(7),B=a.n(x),D=a(48),T=a.n(D),P=a(3),I=a.n(P),A=a(49),K=a.n(A),U=a(47),$=a.n(U),q=a(65),z=a.n(q),F=a(451),N=(a(111),a(180)),V=a.n(N),H=a(90),W=a.n(H),J=a(181),G=a.n(J),Q=a(182),X=a.n(Q),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleToggle=function(){return a.setState({open:!a.state.open})},a.handleClick=function(e){e.preventDefault(),a.setState({open:!0,anchorEl:e.currentTarget})},a.handleRequestClose=function(){a.setState({open:!1})},a.state={open:!1,list:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"getList",value:function(e){}},{key:"render",value:function(){return l.a.createElement(g.a,{muiTheme:f()(p.a)},l.a.createElement("div",null,l.a.createElement(G.a,{title:"CTS",iconClassNameRight:"muidocs-icon-navigation-expand-more",onLeftIconButtonClick:this.handleClick,style:{width:450}}),l.a.createElement(X.a,{open:this.state.open,anchorEl:this.state.anchorEl,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.handleRequestClose},l.a.createElement(V.a,{onItemClick:this.handleToggle},l.a.createElement(W.a,{onClick:this.handleToggle,component:F.a,primaryText:"Commerical Loan",to:"/dashboard"},"Commerical Loan"),l.a.createElement(W.a,{onClick:this.handleToggle,component:F.a,primaryText:"Kiva Loan",to:"/kiva"},"Kiva Loan"),l.a.createElement(W.a,{onClick:this.handleToggle,component:F.a,primaryText:"Borrow Money",to:"/loan"},"Borrow Money")))))}}]),t}(l.a.Component),Z=a(46),ee=a.n(Z),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={expanded:!1,showlist:!0,loading:!0,tileData:[],selectedRow:{},filterData:[],keyword:"",useFilter:!0,testtileData:[{title:"EEP Company"},{title:"Britain Wireless"}],auth:!0,anchorEl:null,open:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee.a.get("https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/unsecured-sme-loans").then(function(t){e.setState({tileData:t.data.data,loading:!1}),console.log("data",t.data)})}},{key:"render",value:function(){var e=this,t=l.a.createElement(L.a,{component:"nav",subheader:l.a.createElement(M.a,{component:"div"},"Loan Choices")},this.state.tileData.map(function(t,a){return l.a.createElement(C.a,{onClick:function(){e.setState({showlist:!1,selectedRow:t}),console.log("index",a),console.log("load",t)}},l.a.createElement(j.a,{primary:t.Brand[0].BrandName}))})),a=l.a.createElement($.a,null,l.a.createElement(T.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Heading"),l.a.createElement(I.a,null,"Value"))),l.a.createElement(K.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Product"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].BrandName)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Segment"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].SMELoan[0].Segment)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Interest Rate"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].SMELoan[0].SMELoanMarketingState[0].LoanInterest.LoanInterestTierBandSet[0].LoanInterestTierBand[0].RepAPR)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Tier"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].SMELoan[0].SMELoanMarketingState[0].LoanInterest.LoanInterestTierBandSet[0].LoanInterestTierBand[0].Identification)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Product Description"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].SMELoan[0].SMELoanMarketingState[0].CoreProduct.ProductDescription)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,l.a.createElement("a",{href:this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].SMELoan[0].SMELoanMarketingState[0].CoreProduct.ProductURL},"Product URL")),l.a.createElement(I.a,null,l.a.createElement("a",{href:this.state.showlist?this.state.selectedRow:this.state.selectedRow.Brand[0].SMELoan[0].SMELoanMarketingState[0].CoreProduct.ProductURL},"Apply")))));return l.a.createElement("dashboard",null,l.a.createElement(g.a,{muiTheme:f()(p.a)},l.a.createElement("div",null,l.a.createElement(Y,null),l.a.createElement(y.a,{style:{width:450}},this.state.showlist?t:a,this.state.loading?l.a.createElement("div",{style:{marginLeft:80}},l.a.createElement(z.a,{id:"progressbar",color:"secondary",size:40})):l.a.createElement("div",null)))))}}]),t}(l.a.Component),ae=Object(k.a)(te),ne=a(66),le=a.n(ne),oe=a(184),re=a.n(oe),ce=a(91),ie=a.n(ce),se=a(92),ue=a.n(se),me=a(93),de=a.n(me),he=a(123),Ee=a.n(he),pe=a(44),be=a.n(pe),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange1=function(e,t){a.setState({borrow:t})},a.handleChange2=function(e,t){a.setState({duration:t})},a.componentDidMount=function(){ee.a.get("https://api.hsbc.qa.xlabs.one/productfinder/open-banking/v2.1/unsecured-sme-loans").then(function(e){a.setState({tileData:e.data.data,loading:!1}),console.log("data",e.data)});ee.a.get("https://api.kivaws.org/v1/lending_actions/recent.json").then(function(e){a.setState({kivaData:e.data.lending_actions,loading:!1}),console.log("data",e.data)})},a.handleVerify=function(){var e=a.state.borrow>a.state.limit?1e3*a.state.limit:1e3*a.state.borrow,t=a.state.borrow>a.state.limit?1e3*Math.round(a.state.borrow-a.state.limit):0;a.setState({activeStep:1,from_bank:e,from_kiva:t})},a.handleKiva=function(){a.setState({loading:!0});var e=a.state.tileData[0].Brand[0].SMELoan[0].SMELoanMarketingState[0].LoanInterest.LoanInterestTierBandSet[0].LoanInterestTierBand[0].RepAPR,t=1e3*a.state.borrow,n=Math.ceil(3*a.state.duration),l=a.state.from_kiva;console.log("tiledata",a.state.kivaData);var o=a.state.kivaData.filter(function(e){return e.loan.loan_amount>l}).sort(function(e,t){return e.loan.funded_amount/e.loan.loan_amount-t.loan.funded_amount/t.loan.loan_amount}),r=o[o.length-1];ee.a.post("https://us-central1-ctsopenhack.cloudfunctions.net/calculate/",{amount:t,interest:e,month:n}).then(function(t){a.setState({activeStep:2,apr:e,monthly:t.data.payment,max_loan:r}),console.log("calc",t.data)})},a.reset=function(){a.setState({activeStep:0,loading:!1})},a.state={expanded:!1,loading:!1,tileData:[],kivaData:[],auth:!0,anchorEl:null,open:!1,activeStep:0,borrow:5,from_bank:0,from_kiva:0,duration:10,limit:25,apr:7,monthly:8e3,max_loan:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(g.a,{muiTheme:f()(p.a)},l.a.createElement("div",null,l.a.createElement(Y,null),l.a.createElement(y.a,{style:{width:450}},l.a.createElement(re.a,{activeStep:this.state.activeStep,orientation:"vertical"},l.a.createElement(ie.a,{key:"step1"},l.a.createElement(ue.a,null,"Input Loan Details"),l.a.createElement(de.a,null,l.a.createElement(be.a,{id:"label"},"Borrow Amount: $",1e3*this.state.borrow),l.a.createElement("br",null),l.a.createElement(Ee.a,{style:{width:250},value:this.state.borrow,"aria-labelledby":"label",onChange:this.handleChange1}),l.a.createElement("br",null),l.a.createElement(be.a,{id:"label"},"Repayment months: ",Math.ceil(3*this.state.duration)),l.a.createElement("br",null),l.a.createElement(Ee.a,{style:{width:250},value:this.state.duration,"aria-labelledby":"label",onChange:this.handleChange2}),l.a.createElement("br",null),l.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.handleVerify},"Submit"))),l.a.createElement(ie.a,{key:"step2"},l.a.createElement(ue.a,null,"Prelimiary Loan Suggestion"),l.a.createElement(de.a,null,l.a.createElement(be.a,{id:"label"},"( p.s. subject to your credit condition )"),l.a.createElement("br",null),l.a.createElement($.a,null,l.a.createElement(T.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Borrow from"),l.a.createElement(I.a,null,"Estimated Amount"))),l.a.createElement(K.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Commerical Bank"),l.a.createElement(I.a,null,"$",this.state.from_bank)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Kiva"),l.a.createElement(I.a,null,"$",this.state.from_kiva)))),l.a.createElement("br",null),this.state.loading?l.a.createElement("div",{style:{marginLeft:80}},l.a.createElement(z.a,{id:"progressbar",color:"secondary",size:40})):l.a.createElement("div",null,l.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.handleKiva},"Loan Projection")," "))),l.a.createElement(ie.a,{key:"step3"},l.a.createElement(ue.a,null,"Replayment Plan"),l.a.createElement(de.a,null,l.a.createElement($.a,null,l.a.createElement(T.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Commerical Loan details"),l.a.createElement(I.a,null," "))),l.a.createElement(K.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Loan Amount"),l.a.createElement(I.a,null,"$",this.state.from_bank)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Annual Interest"),l.a.createElement(I.a,null,this.state.apr,"%")),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Monthly Payment"),l.a.createElement(I.a,null,"$",this.state.monthly)))),l.a.createElement("br",null),l.a.createElement($.a,null,l.a.createElement(T.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Example Kiva loan"),l.a.createElement(I.a,null,l.a.createElement("a",{href:"https://api.kivaws.org/v1/loans/1622763/repayments"},"Replayment Plan")))),l.a.createElement(K.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Loan borrower"),l.a.createElement(I.a,null,null===this.state.max_loan?this.state.max_loan:this.state.max_loan.loan.name)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Loan amount"),l.a.createElement(I.a,null,null===this.state.max_loan?this.state.max_loan:this.state.max_loan.loan.loan_amount)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Funed %"),l.a.createElement(I.a,null,null===this.state.max_loan?this.state.max_loan:this.state.max_loan.loan.funded_amount/this.state.max_loan.loan.loan_amount*100)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Loan Usage"),l.a.createElement(I.a,null,"  ",null===this.state.max_loan?this.state.max_loan:this.state.max_loan.loan.use))," ")),l.a.createElement("br",null),l.a.createElement("a",{href:"https://www.business.hsbc.uk/en-gb/finance-and-borrowing/credit-and-lending/small-business-loan"},"Apply HSBC loan"),l.a.createElement("br",null),l.a.createElement("a",{href:"https://pages.kiva.org/borrow/start"},"Apply Kiva loan"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.reset},"Start Over")))))))}}]),t}(l.a.Component),ve=Object(k.a)(ge),fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={expanded:!1,showlist:!0,loading:!0,tileData:[],selectedRow:{},filterData:[],keyword:"",useFilter:!0,testtileData:[{title:"EEP Company"},{title:"Britain Wireless"}],auth:!0,anchorEl:null,open:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee.a.get("https://api.kivaws.org/v1/lending_actions/recent.json").then(function(t){e.setState({tileData:t.data.lending_actions,loading:!1}),console.log("data",t.data)})}},{key:"render",value:function(){var e=this,t=l.a.createElement(L.a,{component:"nav",subheader:l.a.createElement(M.a,{component:"div"},"Recent funded Loans in Kiva")},this.state.tileData.map(function(t,a){return l.a.createElement(C.a,{onClick:function(){e.setState({showlist:!1,selectedRow:t}),console.log("index",a),console.log("load",t)}},l.a.createElement(j.a,{primary:"$"+t.loan.funded_amount,secondary:t.loan.sector}))})),a=l.a.createElement($.a,null,l.a.createElement(T.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Heading"),l.a.createElement(I.a,null,"Value"))),l.a.createElement(K.a,null,l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Name"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.loan.name)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Usage"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.loan.use)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Funded Amount"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.loan.funded_amount)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Loan Amount"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.loan.loan_amount)),l.a.createElement(B.a,null,l.a.createElement(I.a,null,"Lender Count"),l.a.createElement(I.a,null,this.state.showlist?this.state.selectedRow:this.state.selectedRow.loan.lender_count))));return l.a.createElement("kiva",null,l.a.createElement(g.a,{muiTheme:f()(p.a)},l.a.createElement("div",null,l.a.createElement(Y,null),l.a.createElement(y.a,{style:{width:450}},this.state.showlist?t:a,this.state.loading?l.a.createElement("div",{style:{marginLeft:80}},l.a.createElement(z.a,{id:"progressbar",color:"secondary",size:40})):l.a.createElement("div",null)))))}}]),t}(l.a.Component),we=Object(k.a)(fe),ye=a(185),ke=a(454),Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={loaded:!0,isAuthenticated:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(ye.a)(e,["component"]),n=this.state,o=n.loaded,r=n.isAuthenticated;return o?l.a.createElement(i.a,Object.assign({},a,{render:function(e){return r?l.a.createElement(t,e):l.a.createElement(ke.a,{to:{pathname:"/"}})}})):null}}]),t}(l.a.Component),Le=Object(k.a)(Se),Re=function(){return l.a.createElement("main",null,l.a.createElement(c.a,null,l.a.createElement(i.a,{exact:!0,path:"/",component:ae}),l.a.createElement(Le,{path:"/dashboard",component:ae}),l.a.createElement(Le,{path:"/loan",component:ve}),l.a.createElement(Le,{path:"/kiva",component:we})))};Object(o.render)(l.a.createElement(r.a,null,l.a.createElement(function(){return l.a.createElement("div",null,l.a.createElement(Re,null))},null)),document.getElementById("root"))}},[[187,2,1]]]);
//# sourceMappingURL=main.f0e23669.chunk.js.map